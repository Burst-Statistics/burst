function burstLocalizeString(e){var t=burst.strings;return t.hasOwnProperty(e)&&(e=e.replaceAll(e,t[e])),e}function burst_unLocalizeString(e){var t=burst.strings;for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e)return n;return e}jQuery(document).ready((function(e){"use strict";function t(){var t,r=!0;e(".condition-check-1").each((function(i){var a;for(a=1;a<4;a++){var s="burst_"+e(this).data("condition-question-"+a);if("burst_undefined"==s)return;var u=e(this).data("condition-answer-"+a),c=e(this).find("input[type=checkbox]");c.length||(c=e(this).find("input")),c.length||(c=e(this).find("textarea")),c.length||(c=e(this).find("select")),c.length&&c[0].hasAttribute("required")&&c.addClass("is-required"),-1!==(u+="").indexOf("NOT ")?(u=u.replace("NOT ",""),r=!1):r=!0;var o=[];-1!==u.indexOf(" OR ")?(o=u.split(" OR "),"OR"):o=[u];var d=e(this),l=!1;if(o.forEach((function(i){t=n(s),e("select[name="+s+"]").length&&(t=Array(e("select[name="+s+"]").val())),e("input[name='"+s+"["+i+"]']").length&&(e("input[name='"+s+"["+i+"]']").is(":checked")?(l=!0,t=[]):(l=!1,t=[])),r?l||-1!=t.indexOf(i)||t==i?(d.removeClass("burst-hidden"),c.hasClass("is-required")&&c.prop("required",!0),l=!0):(d.addClass("burst-hidden"),c.hasClass("is-required")&&c.prop("required",!1)):l||-1!=t.indexOf(i)||t==i?(d.addClass("burst-hidden"),c.hasClass("is-required")&&c.prop("required",!1)):(d.removeClass("burst-hidden"),c.hasClass("is-required")&&c.prop("required",!0),l=!0)})),!l)break}}))}function n(t){if("text"==e("input[name="+t+"]").prop("type"))return e("input[name^="+t+"]").val();var n=[];return e("input[name="+t+"]:checked").each((function(){n[n.length]=e(this).val()})),n}var r;t(),e(document).on("change","input",(function(e){t()})),e(document).on("change","select",(function(e){t()})),e(document).on("change","textarea",(function(e){t()})),e(document).on("change",e(".duplicate_burst_variant_id"),(function(){var t=e("select[name=burst_variant_id]");t.prop("disabled")?e(t).prop("disabled",!1):e(t).prop("disabled",!0)})),e(".burst-select2-page-field").length&&(r=e(".burst-select2-page-field").prop("name")+"_query_settings",e(".burst-select2-page-field").select2({ajax:{url:ajaxurl,dataType:"json",delay:250,data:function(e){return{q:e.term,query_settings:window[r],action:"burst_get_posts"}},processResults:function(t){var n=[];return t&&e.each(t,(function(e,t){n.push({id:t[0],text:t[1]})})),{results:n}},cache:!0},width:"100%"})),e(document).on("select2:open",(()=>{document.querySelector(".select2-search__field").focus()})),e(document).on("click",".burst-experiment-action",(function(t){t.preventDefault();var n=e(this);n.closest("tr").css({"background-color":"#D7263D",opacity:"0.80"});var r=n.data("id"),i=n.data("action");e.ajax({type:"POST",url:burst.ajaxurl,dataType:"json",data:{action:"burst_experiment_action",experiment_id:r,type:i},success:function(e){e.success&&n.closest("tr").fadeOut(300,(function(){this.remove()}))}})}))}));