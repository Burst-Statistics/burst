const burst_token="?token="+Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,7);let burst_track_hit_running=!1,burst_initial_track_hit=!1,burst_cookieless_option=burst.options.enable_cookieless_tracking,burst_get_cookie=(window.burst_enable_cookieless_tracking=burst.options.enable_cookieless_tracking,r=>new Promise((i,t)=>{r+="=";let o=window.document.cookie.split(";");for(let e=0;e<o.length;e++){let t=o[e].trim();0===t.indexOf(r)&&i(t.substring(r.length,t.length))}t(!1)})),burst_set_cookie=(t,e)=>{let i="",o=";secure",r=new Date;var n=burst.cookie_retention_days,n=(r.setTime(r.getTime()+24*n*60*60*1e3),";expires="+r.toGMTString());"https:"!==window.location.protocol&&(o=""),0<i.length&&(i=";domain="+i),document.cookie=t+"="+e+";SameSite=Strict"+o+n+i+";path=/"},burst_use_cookies=()=>!!navigator.cookieEnabled&&("1"!==burst_cookieless_option||"1"!==window.burst_enable_cookieless_tracking);function burst_enable_cookies(){window.burst_enable_cookieless_tracking=0,burst_use_cookies()&&burst_uid().then(t=>{burst_set_cookie("burst_uid",t.uid)})}const burst_uid=()=>new Promise(e=>{burst_get_cookie("burst_uid").then(t=>{e(t)}).catch(()=>{var t=burst_generate_uid();burst_set_cookie("burst_uid",t),e(t)})});let burst_generate_uid=()=>{let e="";for(let t=0;t<32;t++)e+=Math.floor(16*Math.random()).toString(16);return e};const burst_fingerprint=()=>new Promise((e,i)=>{imprint.test(["availableScreenResolution","canvas","colorDepth","cookies","cpuClass","deviceDpi","doNotTrack","indexedDb","language","localStorage","pixelRatio","platform","plugins","processorCores","screenResolution","sessionStorage","timezoneOffset","touchSupport","userAgent","webGl"]).then(function(t){e(t)}).catch(t=>{i(t)})});let burst_get_time_on_page=()=>new Promise(t=>{"undefined"==typeof TimeMe&&t(0);var e=TimeMe.getTimeOnCurrentPageInMilliseconds();TimeMe.resetAllRecordedPageTimes(),TimeMe.initialize({idleTimeoutInSeconds:30}),t(e)}),burst_is_user_agent=()=>{let t=new RegExp("(googlebot/|bot|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)","i");var e=navigator.userAgent;return t.test(e)},burst_api_request=t=>new Promise((e,i)=>{window.navigator.sendBeacon&&burst.options.beacon_enabled?(window.navigator.sendBeacon(burst.beacon_url,JSON.stringify(t.data)),e("ok")):(t.url=burst.url+"track"+burst_token,fetch(t.url,{keepalive:!0,method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t.data)}).then(t=>e(t)).catch(t=>i(t)))});async function burst_update_hit(e=!1){if(!burst_is_user_agent()&&burst_initial_track_hit){var i=new CustomEvent("burst_before_update_hit",{detail:burst});document.dispatchEvent(i);let t={fingerprint:!1,uid:!1,url:location.href,time_on_page:await burst_get_time_on_page()};e?(t.uid=await burst_uid(),t.fingerprint=await burst_fingerprint()):burst_use_cookies()?t.uid=await burst_uid():t.fingerprint=await burst_fingerprint(),(0<t.time_on_page||!1!==t.uid)&&await burst_api_request({data:JSON.stringify(t)}).catch(t=>{})}}async function burst_track_hit(){if(!burst_is_user_agent()&&!burst_track_hit_running){burst_track_hit_running=!0;var e=new CustomEvent("burst_before_track_hit",{detail:burst});document.dispatchEvent(e);let t={uid:!1,fingerprint:!1,url:location.href,page_id:burst.page_id,referrer_url:document.referrer,user_agent:navigator.userAgent,device_resolution:window.screen.width*window.devicePixelRatio+"x"+window.screen.height*window.devicePixelRatio,time_on_page:await burst_get_time_on_page()};burst_use_cookies()?t.uid=await burst_uid():t.fingerprint=await burst_fingerprint(),e=new CustomEvent("burst_track_hit",{detail:t}),document.dispatchEvent(e);e={method:"POST",data:JSON.stringify(t)};burst_api_request(e).catch(t=>{burst_track_hit_running=!1}),burst_initial_track_hit=!0,burst_track_hit_running=!1}}function burst_init_events(){!burst.options.enable_turbo_mode||"loading"!==document.readyState?burst_track_hit():document.addEventListener("load",burst_track_hit),document.addEventListener("visibilitychange",function(){"hidden"!==document.visibilityState&&"unloaded"!==document.visibilityState||burst_update_hit()}),document.addEventListener("pagehide",burst_update_hit),document.addEventListener("burst_fire_hit",function(){burst_track_hit()}),document.addEventListener("burst_enable_cookies",function(){burst_enable_cookies(),burst_update_hit(!0)})}burst_init_events();