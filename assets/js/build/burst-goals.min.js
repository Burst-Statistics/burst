const burst_goals_setup=()=>{console.log("burst_goals_setup");for(let e=0;e<burst.goals.length;e++){var t=burst.goals[e];t.url&&t.url!==window.location.pathname&&burst.goals.splice(e,1)}for(let e=0;e<burst.goals.length;e++){var r=burst.goals[e];("view"===r.type?burst_setup_viewport_tracker:burst_setup_click_tracker)(r)}},burst_setup_viewport_tracker=r=>{console.log("burst_setup_viewport_tracker for "+r.name);var e="id"===r.setup.attribute?"#":".",l=document.querySelectorAll(r.setup.element+e+r.setup.value);for(let t=0;t<l.length;t++){let e=l[t];e.style.border="2px solid blue",burst_is_element_in_viewport(e)?burst_goal_triggered(r):window.addEventListener("scroll",()=>burst_listener_view(e,r),!0)}},burst_is_element_in_viewport=e=>{e=e.getBoundingClientRect();return 0<=e.top&&0<=e.left&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)},burst_listener_view=(e,t)=>{burst_is_element_in_viewport(e)&&(burst_goal_triggered(t),window.removeEventListener("scroll",()=>burst_listener_view(e,t),!0))},burst_setup_click_tracker=r=>{console.log("burst_setup_click_tracker for "+r.name);var e="id"===r.setup.attribute?"#":".",l=document.querySelectorAll(r.setup.element+e+r.setup.value);for(let t=0;t<l.length;t++){let e=l[t];e.style.border="2px solid red",e.addEventListener("click",()=>burst_listener_click(e,r),!0)}},burst_listener_click=(e,t)=>{burst_goal_triggered(t),e.removeEventListener("scroll",()=>burst_listener_view(e,t),!0)},burst_goal_triggered=e=>{console.log(`The ${e.name} goal was triggered.`),-1===burst_completed_goals.indexOf(e.id)&&burst_completed_goals.push(e.id)};export default()=>{console.log("Goals imported: ",burst.goals),burst_goals_setup()};