{"version":3,"file":"src_components_common_Tour_js.js","mappings":"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","sources":["webpack://burst-statistics/./src/components/common/Tour.js"],"sourcesContent":["import { useContext, useEffect } from 'react';\nimport { ShepherdTour, ShepherdTourContext } from 'react-shepherd';\nimport { __ } from '@wordpress/i18n';\nimport * as burst_api from '../../utils/api';\n\nconst newSteps = [\n  {\n    title: __('Welcome to Burst Statistics', 'burst-statistics'),\n    text: '<p>' +  __('The plugin is now active.', 'burst-statistics') + ' ' + __('Follow a quick tour and make sure everything works.', 'burst-statistics') + '</p>',\n    classes: 'burst-shepherd',\n    buttons: [\n      {\n        type: 'cancel',\n        classes: 'burst-button burst-button--secondary',\n        text: __('Exit tour', 'burst-statistics'),\n      },\n      {\n        classes: 'burst-button burst-button--primary',\n        text: __('Start tour', 'burst-statistics'),\n        action () {\n          window.location.hash = 'dashboard';\n          return this.next()\n        },\n      }\n    ]\n  },\n  {\n    title: __( 'Your dashboard', 'burst-statistics' ),\n    text: '<p>' + __( 'This is your Dashboard. This will give you an overview of notices, real time data, and settings.', 'burst-statistics' ) + '</p>',\n    classes: 'burst-shepherd',\n    buttons: [\n      {\n        classes: 'burst-button burst-button--secondary',\n        text: __('Previous', 'burst-statistics'),\n        action () {\n          window.location.hash = 'dashboard';\n          return this.back()\n        },\n      },\n      {\n        classes: 'burst-button burst-button--primary',\n        text: __('Next', 'burst-statistics'),\n        action () {\n          window.location.hash = 'dashboard';\n          return this.next()\n        },\n      }\n    ],\n    attachTo: { element: '.burst-progress', on: 'auto' },\n  },\n  {\n    title: __( 'Real time data', 'burst-statistics' ),\n    text: '<p>' +  __( 'This block will show you real time visitors.', 'burst-statistics' ) + ' '  + __( 'To make sure Burst Statistics is setup properly, try visiting this website on another device or open a private window.', 'burst-statistics' ) + '</p>',\n    classes: 'burst-shepherd',\n    buttons: [\n      {\n        classes: 'burst-button burst-button--secondary',\n        text: __('Previous', 'burst-statistics'),\n        action () {\n          window.location.hash = 'dashboard';\n          return this.back()\n        },\n      },\n      {\n        classes: 'burst-button burst-button--primary',\n        text: __('Next', 'burst-statistics'),\n        action () {\n          window.location.hash = 'statistics';\n          return this.next()\n        },\n      }\n    ],\n    attachTo: { element: '.burst-today', on: 'auto' },\n  },\n  {\n    title: __( 'Your website statistics', 'burst-statistics' ),\n    text: '<p>' + __( 'This page is probably quite empty at the moment. The data from your website will show up here in a few days. So be sure to come back soon.', 'burst-statistics' ) + '</p>',\n    classes: 'burst-shepherd',\n    buttons: [\n      {\n        classes: 'burst-button burst-button--secondary',\n        text: __('Previous', 'burst-statistics'),\n        action () {\n          window.location.hash = 'dashboard';\n          return this.back()\n        },\n      },\n      {\n        classes: 'burst-button burst-button--primary',\n        text: __('Next', 'burst-statistics'),\n        action () {\n          window.location.hash = 'statistics';\n          return this.next()\n        },\n      }\n    ]\n    // attachTo: { element: '.burst-today', on: 'right' },\n  },\n  {\n    title: __( 'Changing the date range', 'burst-statistics' ),\n    text: '<p>' + __( 'Over here you can change the date range for the data being shown. Click on two different days or click twice on a single day to show the data for that period.', 'burst-statistics' ) + '</p>',\n    classes: 'burst-shepherd',\n    buttons: [\n      {\n        classes: 'burst-button burst-button--secondary',\n        text: __('Previous', 'burst-statistics'),\n        action () {\n          window.location.hash = 'statistics';\n          return this.back()\n        },\n      },\n      {\n        classes: 'burst-button burst-button--primary',\n        text: __('Next', 'burst-statistics'),\n        action () {\n          window.location.hash = 'settings';\n          return this.next()\n        },\n      }\n    ],\n    attachTo: { element: '.burst-date-range-container', on: 'auto' },\n  },\n  {\n    title: __( 'Your configuration', 'burst-statistics' ),\n    text: '<p>' + __( 'You can customize Burst to your liking. Change settings to meet your needs.', 'burst-statistics' ) + '</p>',\n    classes: 'burst-shepherd',\n    buttons: [\n      {\n        classes: 'burst-button burst-button--secondary',\n        text: __('Previous', 'burst-statistics'),\n        action () {\n          window.location.hash = 'statistics';\n          return this.back()\n        },\n      },\n      {\n        classes: 'burst-button burst-button--primary',\n        text: __('Next', 'burst-statistics'),\n        action () {\n          window.location.hash = 'settings';\n          return this.next()\n        },\n      }\n    ],\n    attachTo: { element: '.burst-general', on: 'auto' },\n  },\n  {\n    title: __( 'Support & feedback', 'burst-statistics' ),\n    text: '<p>' + __( 'Feel free to post your questions or feedback on the WordPress forums. We are happy to help!', 'burst-statistics' ) + '</p>',\n    classes: 'burst-shepherd',\n    buttons: [\n      {\n        classes: 'burst-button burst-button--secondary',\n        text: __('Previous', 'burst-statistics'),\n        action () {\n          window.location.hash = 'settings';\n          return this.back()\n        },\n      },\n      {\n        type: 'cancel',\n        classes: 'burst-button burst-button--primary',\n        text: __('Exit tour', 'burst-statistics'),\n      },\n    ]\n  },\n];\nlet tourEndRunning = false;\nconst onTourEnd = () => {\n  if (! tourEndRunning) {\n    tourEndRunning = true;\n    let saveFields = [];\n    saveFields.push({id: 'burst_tour_shown_once', value: '1', type: 'hidden'});\n    burst_api.setFields(saveFields).then((response) => {\n      tourEndRunning = false;\n    })\n  }\n}\n\nconst tourOptions = {\n  defaultStepOptions: {\n    cancelIcon: {\n      enabled: true\n    },\n    keyboardNavigation: false\n  },\n  useModalOverlay: false,\n  margin: 15,\n};\n\nfunction TourInstance() {\n  const tour = useContext(ShepherdTourContext);\n  tour.on(\"cancel\", onTourEnd);\n  useEffect(() => {\n    if (tour) tour.start();\n  }, [tour]);\n\n  return <></>;\n}\n\nconst Tour = () => {\n  return (\n      <ShepherdTour steps={newSteps} tourOptions={tourOptions} >\n        <TourInstance />\n      </ShepherdTour>\n  );\n}\n\nexport default Tour;\n"],"names":["useContext","useEffect","ShepherdTour","ShepherdTourContext","__","burst_api","newSteps","title","text","classes","buttons","type","action","window","location","hash","next","back","attachTo","element","on","tourEndRunning","onTourEnd","saveFields","push","id","value","setFields","then","response","tourOptions","defaultStepOptions","cancelIcon","enabled","keyboardNavigation","useModalOverlay","margin","TourInstance","tour","start","createElement","Fragment","Tour","steps"],"sourceRoot":""}